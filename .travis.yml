language: python
python:
  - '3.5'
  - '3.6'
  - 3.7-dev
  - nightly
install:
  - pip install .
  - pip install -r test_requirements.txt
script:
  - nosetests
deploy:
  provider: pypi
  user: PYPI_USERNAME
  password: PYPI_PASSWORD
  distributions: sdist bdist_wheel
  skip_cleanup: true
  skip_existing: true
  on:
    branch: master
    tags: true
env:
  global:
    - secure: AzMzlEphyQNpsXua7avpOtJTh54uR/l4F/fE4JIBpk4/XYFURuREVU6etTJObk78Ut4i3pZSgdDTRJCIpAjuei63e1UJyR01kFMi0Smfp/h2sMT4zquCyAI3fpW70xkRtyXyezVfK/yuIroKsTVX+Z+tbzX9c91oyPvgvrT9U9bPoWVk4QVeyDqmsFEnbW9S2Lvn2ie4BBw7DPnXRn4cgA7zxDci7cgt2YfEeBQtj50ILnIIt73UpUALUfVb5m5W5QQoMF37vEFxBZQrXnBFC3811LWdRth0Mla/EpOi3ckV3J9S7lyvEuv3I5Xvj+pcnF7T/cRe0T+rHnz1wtmYRQiw6H2ZoFhuWxTA/ttZbuuvfjeNxG4c80Vwumhot10LR7tJRKW5IRId4UvbgMIIAjocpPEGf15EKXO9Pk17nYMnm8rDgwRJXcwhgJm0nZR9dzwySvYRbT9i7sDQrtQkwQ16+kznqbbWfR6f/rZS/ssYble4mxNcNUKhsF+v3fh32co1NZr6crXro6HcxQW+wqb+V0EBaWSxoU4oESuFrog3Fwh/WBHwCl1nUypP0btBm41y+9vDy4ynLJQjJ59TfPyQ91VLCXlzpcOvTxkL3Sow616OCGEO9E3Zm+TOElpph6yWtfWJI0B9tajd49cuSS2Pn6OGmwE4guZbEay9Ac4=
    - secure: hxH4HXys39HLa1FFTBPI+JnnZT+is9UPnIvvVgler8heN3HNEFE6m/oYUl0bEHK3luaeGXnr0v8ywK7ZCqtDanvSX396zqBqgIm00Oz/qenI8lho7fLdrNmz4N6KOoWUEKFxlhLjVM0Fff158vmmSs5Fs9tY6TjcQ/PuHAasXRRtJQXP9vhUh8nXKQksih+hn/YEEUV5hg13OrLbJIj9kfs3j7yiys0Um/YFOWccvelOqU5KwULv9VGl/4PWYmZ4FVw0220gYfmtpSZCmNa0REa9+50w0lAJ000Qmw4/rft3ieoO6HrBKWAfHwn5T3Xef/atn569KLNQDmAwoBJXlig+jCPp+gOFdVjeg6huO/hXfQJVsOhKsC/4XgRIccXZBQfN2yzsYBWPDJaj4QmEtajvckKeKNjmXyPvFtHsvID2uIOhMcqrSR5pdIrdFbyP4I6bczSkRQp0ET3VEEdBeeyhhtBkVq8fjyrzpjxxPDnaQtowdfyHM1nrFVw4oSM9hLJvdrU2iTa1mgEs66cTehU30a9+nBslt1U7mddYNHTnfukgZOVjHSdvIo6rUKGqLyryssl+4I5lOkdP9kWzwkprP/PmZTcmtHEn5el801eVeStVSmn3PQJe7MBFeQzhYC2EOvjx32OPiOigOb0HNHvLHtNJTj6BpUPrBwbua9c=
